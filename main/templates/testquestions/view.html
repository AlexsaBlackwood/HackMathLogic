{% extends 'base.html' %}

{% block content %}
<h1>Просмотр вопроса</h1>
<div class="breadcrumb">
    <a href="{% url 'theme_view' theme.id %}">{{theme.title}}</a> → 
    <a href="{% url 'subtheme_view' theme.id subtheme.id %}">{{subtheme.title}}</a> → 
    <a href="{% url 'test_view' theme.id subtheme.id test.id %}">{{test.question}}</a>
</div>
<div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 25px;">
    <h2 style="color: white; border: none; padding: 0; margin: 0;">{{question.text}}</h2>
</div>

<h3>Варианты ответов:</h3>
{% if question.answers.all %}
    {% for answer in question.answers.all %}
        <div class="card" style="border-left: 4px solid {% if answer.is_right %}#4caf50{% else %}#f44336{% endif %};">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <a href="{% url 'testanswervariant_view' theme.id subtheme.id test.id question.id answer.id %}" style="font-size: 16px;">
                        {{answer.text}}
                    </a>
                    {% if answer.is_right %}
                        <span class="badge badge-success">Верный</span>
                    {% else %}
                        <span class="badge badge-danger">Неверный</span>
                    {% endif %}
                </div>
                <a href="{% url 'testanswervariant_edit' theme.id subtheme.id test.id question.id answer.id %}" class="btn btn-secondary" style="padding: 5px 15px; font-size: 12px;">ред.</a>
            </div>
        </div>
    {% endfor %}
{% else %}
    <div class="empty-state">Варианты ответов отсутствуют</div>
{% endif %}

<div style="margin-top: 25px;">
    <a href="{% url 'testanswervariant_add' theme.id subtheme.id test.id question.id %}" class="btn btn-success">+ Добавить вариант ответа</a>
    <a href="{% url 'testquestion_edit' theme.id subtheme.id test.id question.id %}" class="btn btn-secondary">Редактировать вопрос</a>
    <a href="{% url 'test_view' theme.id subtheme.id test.id %}" class="btn btn-secondary">← Назад к тесту</a>
</div>
{% endblock %}

