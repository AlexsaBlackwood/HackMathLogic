{% extends 'base.html' %}

{% block content %}
<h1>‚ùì –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–æ–ø—Ä–æ—Å–∞</h1>
<div class="breadcrumb">
    <a href="{% url 'theme_view' theme.id %}">{{theme.title}}</a> ‚Üí 
    <a href="{% url 'subtheme_view' theme.id subtheme.id %}">{{subtheme.title}}</a> ‚Üí 
    <a href="{% url 'test_view' theme.id subtheme.id test.id %}">{{test.question}}</a>
</div>
<div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 25px;">
    <h2 style="color: white; border: none; padding: 0; margin: 0;">{{question.text}}</h2>
</div>

<h3>üí° –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤:</h3>
{% if question.answers.all %}
    {% for answer in question.answers.all %}
        <div class="card" style="border-left: 4px solid {% if answer.is_right %}#4caf50{% else %}#f44336{% endif %};">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <a href="{% url 'testanswervariant_view' theme.id subtheme.id test.id question.id answer.id %}" style="font-size: 16px;">
                        {{answer.text}}
                    </a>
                    {% if answer.is_right %}
                        <span class="badge badge-success">‚úì –í–µ—Ä–Ω—ã–π</span>
                    {% else %}
                        <span class="badge badge-danger">‚úó –ù–µ–≤–µ—Ä–Ω—ã–π</span>
                    {% endif %}
                </div>
                <a href="{% url 'testanswervariant_edit' theme.id subtheme.id test.id question.id answer.id %}" class="btn btn-secondary" style="padding: 5px 15px; font-size: 12px;">‚úèÔ∏è —Ä–µ–¥.</a>
            </div>
        </div>
    {% endfor %}
{% else %}
    <div class="empty-state">–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</div>
{% endif %}

<div style="margin-top: 25px;">
    <a href="{% url 'testanswervariant_add' theme.id subtheme.id test.id question.id %}" class="btn btn-success">+ –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞</a>
    <a href="{% url 'testquestion_edit' theme.id subtheme.id test.id question.id %}" class="btn btn-secondary">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å</a>
    <a href="{% url 'test_view' theme.id subtheme.id test.id %}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–µ—Å—Ç—É</a>
</div>
{% endblock %}

