{% extends 'base.html' %}

{% block content %}
<h1>Список тестов</h1>
<div class="breadcrumb">
    <a href="{% url 'theme_view' theme.id %}">{{theme.title}}</a> → 
    <a href="{% url 'subtheme_view' theme.id subtheme.id %}">{{subtheme.title}}</a>
</div>
{% if user.is_authenticated and user.profile and user.profile.role != 'STUDENT' %}
    <div style="margin-bottom: 20px;">
        <a href="{% url 'test_add' theme.id subtheme.id %}" class="btn btn-success">+ Добавить тест</a>
    </div>
{% endif %}
{% for test in object_list %}
    <div class="card">
        <h3>
            <a href="{% url 'test_view' theme.id subtheme.id test.id %}">{{test.question}}</a>
            {% if user.is_authenticated and user.profile and user.profile.role != 'STUDENT' %}
                <a href="{% url 'test_edit' theme.id subtheme.id test.id %}" class="btn btn-secondary" style="padding: 5px 15px; font-size: 12px; margin-left: 10px;">Редактировать</a>
            {% endif %}
        </h3>
    </div>
{% empty %}
    <div class="empty-state">Тесты отсутствуют</div>
{% endfor %}
<div style="margin-top: 25px;">
    <a href="{% url 'subtheme_view' theme.id subtheme.id %}" class="btn btn-secondary">← Назад</a>
</div>
{% endblock %}

